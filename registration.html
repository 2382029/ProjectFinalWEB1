<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-200 font-sans p-5 text-base">
    <header class="text-center p-10 bg-gradient-to-br from-gray-900 to-gray-700 shadow-lg rounded-3xl mb-12 hover:translate-y-1 hover:shadow-xl transition-all duration-300">
        <h1 class="text-4xl font-bold text-white mb-8">Registration</h1>
        <nav>
            <a href="index.html" class="text-lg mx-6 text-gray-200 uppercase tracking-wider hover:text-blue-400 hover:scale-110 hover:opacity-80 transition-all duration-300">Home</a>
            <a href="about.html" class="text-lg mx-6 text-gray-200 uppercase tracking-wider hover:text-blue-400 hover:scale-110 hover:opacity-80 transition-all duration-300">About</a>
            <a href="portfolio.html" class="text-lg mx-6 text-gray-200 uppercase tracking-wider hover:text-blue-400 hover:scale-110 hover:opacity-80 transition-all duration-300">Portfolio</a>
            <a href="calculator.html" class="text-lg mx-6 text-gray-200 uppercase tracking-wider hover:text-blue-400 hover:scale-110 hover:opacity-80 transition-all duration-300">Calculator</a>
            <a href="registration.html" class="text-lg mx-6 text-gray-200 uppercase tracking-wider hover:text-blue-400 hover:scale-110 hover:opacity-80 transition-all duration-300">Registration</a>
        </nav>
    </header>
    <form id="registrationForm" class="bg-white text-black rounded-lg shadow-lg p-6 w-96 mx-auto mt-8">
        <h2 class="text-center text-xl font-semibold mb-6">Pendaftaran Pengguna</h2>

        <label for="name" class="block text-sm font-medium mb-2">Nama</label>
        <input type="text" id="name" name="name" maxlength="40" required class="w-full px-4 py-2 border border-gray-600 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <div id="nameError" class="text-red-500 text-sm"></div>

        <label for="phone" class="block text-sm font-medium mb-2">Nomor Telepon</label>
        <input type="tel" id="phone" name="phone" maxlength="15" required class="w-full px-4 py-2 border border-gray-600 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <div id="phoneError" class="text-red-500 text-sm"></div>

        <label for="email" class="block text-sm font-medium mb-2">Email</label>
        <input type="email" id="email" name="email" required class="w-full px-4 py-2 border border-gray-600 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <div id="emailError" class="text-red-500 text-sm"></div>

        <label for="password" class="block text-sm font-medium mb-2">Kata Sandi</label>
        <input type="password" id="password" name="password" required class="w-full px-4 py-2 border border-gray-600 rounded-md mb-6 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <div id="passwordError" class="text-red-500 text-sm"></div>

        <button type="submit" class="w-full py-2 bg-gray-800 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Kirim</button>
    </form>

    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            let valid = true;

            // Validasi Nama
            const name = document.getElementById('name').value;
            const nameError = document.getElementById('nameError');
            if (name.length === 0 || name.length > 40) {
                nameError.textContent = 'Nama tidak boleh kosong dan maksimal 40 karakter.';
                valid = false;
            } else {
                nameError.textContent = '';
            }

            // Validasi Nomor Telepon
            const phone = document.getElementById('phone').value;
            const phoneError = document.getElementById('phoneError');
            const phoneRegex = /^[0-9]{1,15}$/;
            if (!phoneRegex.test(phone)) {
                phoneError.textContent = 'Nomor telepon hanya boleh berupa angka dan maksimal 15 digit.';
                valid = false;
            } else {
                phoneError.textContent = '';
            }

            // Validasi Email
            const email = document.getElementById('email').value;
            const emailError = document.getElementById('emailError');
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            if (!emailRegex.test(email)) {
                emailError.textContent = 'Email tidak valid.';
                valid = false;
            } else {
                emailError.textContent = '';
            }

            // Validasi Kata Sandi
            const password = document.getElementById('password').value;
            const passwordError = document.getElementById('passwordError');
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,16}$/;
            if (!passwordRegex.test(password)) {
                passwordError.textContent = 'Kata sandi harus antara 8-16 karakter, mengandung huruf besar, huruf kecil, dan angka.';
                valid = false;
            } else {
                passwordError.textContent = '';
            }

            // Tampilkan Pesan Sukses jika Semua Input Valid
            if (valid) {
                alert('Pendaftaran Berhasil');
            }
        });

        // Tambahkan Event Listener untuk Input
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', function() {
                const id = input.id;
                const value = input.value;
                const errorElement = document.getElementById(`${id}Error`);
                let valid = true;

                if (id === 'name' && (value.length === 0 || value.length > 40)) {
                    errorElement.textContent = 'Nama tidak boleh kosong dan maksimal 40 karakter.';
                    valid = false;
                } else if (id === 'phone' && !/^[0-9]{1,15}$/.test(value)) {
                    errorElement.textContent = 'Nomor telepon hanya boleh berupa angka dan maksimal 15 digit.';
                    valid = false;
                } else if (id === 'email' && !/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(value)) {
                    errorElement.textContent = 'Email tidak valid.';
                    valid = false;
                } else if (id === 'password' && !/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,16}$/.test(value)) {
                    errorElement.textContent = 'Kata sandi harus antara 8-16 karakter, mengandung huruf besar, huruf kecil, dan angka.';
                    valid = false;
                } else {
                    errorElement.textContent = '';
                }
            });
        });
    </script>
</body>
</html>
